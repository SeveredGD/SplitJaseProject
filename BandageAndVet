# Herding
@setvar! isHerdingActive 0
if findtype 3713 self as firstJrook
    while isHerdingActive = 0
        if counttype 3713 self > 1
            @clearignore 
            while findtype 3713 self as jrook
                getlabel jrook multiDesc
                if 'activated' in multiDesc
                    @setvar! isHerdingActive 1
                    if jaseowns_OutputHerdingActiveOverheadHelper = 1
                        overhead 'Herding Active' 88
                        overhead '{{multiDesc}}'
                    endif
                    break
                endif
                @ignore jrook
            endwhile
            @clearignore 
            if isHerdingActive = 0
                dclick firstJrook
            endif
        endif
        
        if isHerdingActive = 0
            getlabel firstJrook desc
            if 'activated' in desc
                @setvar! isHerdingActive 1
               if jaseowns_OutputHerdingActiveOverheadHelper = 1
                    overhead 'Herding Active' 88
                    overhead '{{desc}}'
                endif
            else
                dclick firstJrook
                getlabel firstJrook desc
                @setvar! isHerdingActive 1
                if jaseowns_OutputHerdingActiveOverheadHelper = 1
                    overhead 'Herding Active' 88
                    overhead '{{desc}}'
                endif
            endif 
        endif
    endwhile
endif

###############
### Self Healing with vet
#############
if hp < maxhp and skill "Veterinary" >= 50
  // we need to heal
  if findtype "veterinary supplies" backpack as item
      dclick item
      wait 650
  endif
endif
